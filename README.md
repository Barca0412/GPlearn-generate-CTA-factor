# use-gplearn-to-generate-factor
本文档使用gplearn模型进行因子生成。  
在适应度函数定义方面，本文档采用收益回撤比进行定义。如何根据遗传规划算法得到因子值投资的细节参见simple-backtest部分。  

# 主要文档说明
主要包含三个文档，依次为：  
## bkt_main.py
该文档是向量化回测框架的演示文档。在这里，汇总了从因子信号到仓位变换一直到最后的统计结果输出部分（输出结果被保存在bkt_rslt文件夹中）。这部分为遗传规划中适应度函数的定义提供了标准。  
预计回测及生成统计量运行时间为1.6s  
预计回测及生成统计量和图表运行时间为4.4s  
## gp_basic.py
该文档是对遗传规划算法的演示文档。在该文档中，演示了遗传规划之下是如何逐渐逼近真实函数的。这部分为遗传规划中相关过程提供参照。  
预计运行时间为1.6s  
## gp_main.py
该文档是通过遗传规划生成因子的详细过程。因为在进行这一操作时需要输入参数，因子该文档被最终设计为半自动化的因子生成过程。具体地，每次开始遗传规划前首先给定相关参数，之后根据训练集和测试集回测结果判断是否保存结果，以及是否进入下次循环（输出结果保存在gp_rslt中）。  
在推荐参数设定下，预计运行时间为54s

# 版本说明
该文档共有两个版本，版本1是半自动化调参，方便使用。版本2是定好参数范围，方便学习。